{"ast":null,"code":"import _classCallCheck from\"/home/sy/repository/app_todo_list/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/sy/repository/app_todo_list/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/sy/repository/app_todo_list/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/sy/repository/app_todo_list/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Modal from\"./components/Modal\";import axios from\"axios\";// const todoItems = [\n//   {\n//     id: 1,\n//     title: \"Go to Market\",\n//     description: \"Buy ingredients to prepare dinner\",\n//     completed: true,\n//   },\n//   {\n//     id: 2,\n//     title: \"Study\",\n//     description: \"Read Algebra and History textbook for the upcoming test\",\n//     completed: false,\n//   },\n//   {\n//     id: 3,\n//     title: \"Sammy's books\",\n//     description: \"Go to library to return Sammy's books\",\n//     completed: true,\n//   },\n//   {\n//     id: 4,\n//     title: \"Article\",\n//     description: \"Write article on how to use Django with React\",\n//     completed: false,\n//   },\n// ];\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.refreshList=function(){axios.get(\"/api/todos/\").then(function(res){return _this.setState({todoList:res.data});}).catch(function(err){return console.log(err);});};_this.toggle=function(){_this.setState({modal:!_this.state.modal});};_this.handleSubmit=function(item){_this.toggle();// alert(\"save\" + JSON.stringify(item));\nif(item.id){axios.put(\"/api/todos/\".concat(item.id,\"/\"),item).then(function(res){return _this.refreshList();});return;}axios.post(\"/api/todos/\",item).then(function(res){return _this.refreshList();});};_this.handleDelete=function(item){// alert(\"delete\" + JSON.stringify(item));\naxios.delete(\"/api/todos/\".concat(item.id,\"/\")).then(function(res){return _this.refreshList();});};_this.createItem=function(){var item={title:\"\",description:\"\",completed:false};_this.setState({activeItem:item,modal:!_this.state.modal});};_this.editItem=function(item){_this.setState({activeItem:item,modal:!_this.state.modal});};_this.displayCompleted=function(status){if(status){return _this.setState({viewCompleted:true});}return _this.setState({viewCompleted:false});};_this.renderTabList=function(){return/*#__PURE__*/_jsxs(\"div\",{className:\"nav nav-tabs\",children:[/*#__PURE__*/_jsx(\"span\",{className:_this.state.viewCompleted?\"nav-link active\":\"nav-link\",onClick:function onClick(){return _this.displayCompleted(true);},children:\"Complete\"}),/*#__PURE__*/_jsx(\"span\",{className:_this.state.viewCompleted?\"nav-link\":\"nav-link active\",onClick:function onClick(){return _this.displayCompleted(false);},children:\"Incomplete\"})]});};_this.renderItems=function(){var viewCompleted=_this.state.viewCompleted;var newItems=_this.state.todoList.filter(function(item){return item.completed==viewCompleted;});return newItems.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"todo-title mr-2 \".concat(_this.state.viewCompleted?\"completed-todo\":\"\"),title:item.description,children:item.title}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary mr-2\",onClick:function onClick(){return _this.editItem(item);},children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger\",onClick:function onClick(){return _this.handleDelete(item);},children:\"Delete\"})]})]},item.id);});};_this.state={viewCompleted:false,// todoList: todoItems,\ntodoList:[],modal:false,activeItem:{title:\"\",description:\"\",completed:false}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.refreshList();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"main\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-black text-uppercase text-center my-4\",children:\"Todo app\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 col-sm-10 mx-auto p-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:this.createItem,children:\"Add task\"})}),this.renderTabList(),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush border-top-0\",children:this.renderItems()})]})})}),this.state.modal?/*#__PURE__*/_jsx(Modal,{activeItem:this.state.activeItem,toggle:this.toggle,onSave:this.handleSubmit}):null]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["React","Component","Modal","axios","jsx","_jsx","jsxs","_jsxs","App","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","refreshList","get","then","res","setState","todoList","data","catch","err","console","log","toggle","modal","state","handleSubmit","item","id","put","concat","post","handleDelete","delete","createItem","title","description","completed","activeItem","editItem","displayCompleted","status","viewCompleted","renderTabList","className","children","onClick","renderItems","newItems","filter","map","_createClass","key","value","componentDidMount","render","onSave"],"sources":["/home/sy/repository/app_todo_list/frontend/src/App.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Modal from \"./components/Modal\";\nimport axios from \"axios\";\n\n// const todoItems = [\n//   {\n//     id: 1,\n//     title: \"Go to Market\",\n//     description: \"Buy ingredients to prepare dinner\",\n//     completed: true,\n//   },\n//   {\n//     id: 2,\n//     title: \"Study\",\n//     description: \"Read Algebra and History textbook for the upcoming test\",\n//     completed: false,\n//   },\n//   {\n//     id: 3,\n//     title: \"Sammy's books\",\n//     description: \"Go to library to return Sammy's books\",\n//     completed: true,\n//   },\n//   {\n//     id: 4,\n//     title: \"Article\",\n//     description: \"Write article on how to use Django with React\",\n//     completed: false,\n//   },\n// ];\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewCompleted: false,\n      // todoList: todoItems,\n      todoList: [],\n      modal: false,\n      activeItem: {\n        title: \"\",\n        description: \"\",\n        completed: false,\n      },\n    };\n  }\n\n  componentDidMount() {\n    this.refreshList();\n  }\n\n  refreshList = () => {\n    axios\n      .get(\"/api/todos/\")\n      .then((res) => this.setState({ todoList: res.data }))\n      .catch((err) => console.log(err));\n  };\n\n  toggle = () => {\n    this.setState({ modal: !this.state.modal });\n  };  \n\n  handleSubmit = (item) => {\n    this.toggle();\n\n    // alert(\"save\" + JSON.stringify(item));\n\n    if (item.id) {\n      axios\n        .put(`/api/todos/${item.id}/`, item)\n        .then((res) => this.refreshList());\n      return;\n    }\n\n    axios\n      .post(\"/api/todos/\", item)\n      .then((res) => this.refreshList());\n  };\n\n  handleDelete = (item) => {\n    // alert(\"delete\" + JSON.stringify(item));\n    axios \n      .delete(`/api/todos/${item.id}/`)\n      .then((res) => this.refreshList());\n  };\n\n  createItem = () => {\n    const item = { title: \"\", description: \"\", completed: false };\n\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  editItem = (item) => {\n    this.setState({ activeItem: item, modal: !this.state.modal });\n  };\n\n  displayCompleted = (status) => {\n    if (status) {\n      return this.setState({ viewCompleted: true });\n    }\n\n    return this.setState({ viewCompleted: false});\n  };\n\n  renderTabList = () => {\n    return (\n      <div className=\"nav nav-tabs\">\n        <span \n          className={this.state.viewCompleted ? \"nav-link active\" : \"nav-link\"}\n          onClick={() => this.displayCompleted(true)}\n        >\n          Complete\n        </span>\n        <span\n          className={this.state.viewCompleted ? \"nav-link\" : \"nav-link active\"}\n          onClick={() => this.displayCompleted(false)}\n        >\n          Incomplete\n        </span>\n      </div>\n    ); \n  };\n\n  renderItems = () => {\n    const { viewCompleted } = this.state;\n    const newItems = this.state.todoList.filter(\n      (item) => item.completed == viewCompleted\n    );\n\n    return newItems.map((item) => (\n      <li\n        key={item.id}\n        className='list-group-item d-flex justify-content-between align-items-center'\n      >\n        <span\n          className={`todo-title mr-2 ${\n            this.state.viewCompleted ? \"completed-todo\" : \"\"\n          }`}\n          title={item.description}\n        >\n          {item.title}\n        </span>\n        <span>\n          <button \n            className='btn btn-secondary mr-2'\n            onClick={() => this.editItem(item)}\n            >\n            Edit\n          </button>\n          <button \n            className='btn btn-danger'\n            onClick={() => this.handleDelete(item)}\n            >\n            Delete\n          </button>\n        </span>\n      </li>\n    )\n    );\n  };\n\n  render() {\n    return (\n      <main className=\"container\">\n        <h1 className=\"text-black text-uppercase text-center my-4\">Todo app</h1>\n        <div className=\"row\">\n          <div className=\"col-md-6 col-sm-10 mx-auto p-0\">\n            <div className=\"card p-3\">\n              <div className=\"mb-4\">\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={this.createItem}\n                >\n                  Add task\n                </button>\n              </div>\n              {this.renderTabList()}\n              <ul className=\"list-group list-group-flush border-top-0\">\n                {this.renderItems()}\n              </ul>\n            </div>\n          </div>\n        </div>\n        {this.state.modal ? (\n          <Modal\n            activeItem={this.state.activeItem}\n            toggle={this.toggle}\n            onSave={this.handleSubmit}\n          />\n        ) : null\n        }\n      </main>\n    );\n  }\n\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}